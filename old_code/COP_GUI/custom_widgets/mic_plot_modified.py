# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'mic_plot.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

import sys
import matplotlib
matplotlib.use('Qt5Agg')
from matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg as FigureCanvas
from matplotlib.figure import Figure
import matplotlib.ticker as ticker
import queue
import numpy as np
import sounddevice as sd

from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtCore import pyqtSlot
from PyQt5.QtMultimedia import QAudioDeviceInfo, QAudio, QCameraInfo

input_audio_deviceInfos = QAudioDeviceInfo.availableDevices(QAudio.AudioInput)

class Ui_Form(object):
    def setupUi(self):
        Form.setObjectName("Mic Plot")
        Form.resize(260, 255)
        self.gridLayout_2 = QtWidgets.QGridLayout(Form)
        self.gridLayout_2.setObjectName("gridLayout_2")
        self.mic_plot_start = QtWidgets.QPushButton(Form)
        self.mic_plot_start.setObjectName("mic_plot_start")
        self.gridLayout_2.addWidget(self.mic_plot_start, 1, 0, 1, 1)
        self.mic_plot_stop = QtWidgets.QPushButton(Form)
        self.mic_plot_stop.setObjectName("mic_plot_stop")
        self.gridLayout_2.addWidget(self.mic_plot_stop, 1, 1, 1, 1)
        self.widget = QtWidgets.QWidget(Form)
        self.widget.setStyleSheet("background-color: rgb(0, 0, 0);")
        self.widget.setObjectName("widget")
        self.gridLayout_2.addWidget(self.widget, 2, 0, 1, 2)
        self.mic_plot_combo_box = QtWidgets.QComboBox(Form)
        self.mic_plot_combo_box.setObjectName("mic_plot_combo_box")
        self.gridLayout_2.addWidget(self.mic_plot_combo_box, 0, 1, 1, 1)
        self.label = QtWidgets.QLabel(Form)
        self.label.setObjectName("label")
        self.gridLayout_2.addWidget(self.label, 0, 0, 1, 1)

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

        self.threadpool = QtCore.QThreadPool()
        self.devices_list= []
        for device in input_audio_deviceInfos:
            self.devices_list.append(device.deviceName())

        self.mic_plot_combo_box.addItems(self.devices_list)
        self.mic_plot_combo_box.currentIndexChanged['QString'].connect(self.update_now)
        self.mic_plot_combo_box.setCurrentIndex(0)
        self.show()

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "Form"))
        self.mic_plot_start.setText(_translate("Form", "Start"))
        self.mic_plot_stop.setText(_translate("Form", "Stop"))
        self.label.setText(_translate("Form", "Choose Device:"))

#class mic_plot_widget(Ui_Form):
#    def getAudioDevices(self, Form):
#        self.threadpool = QtCore.QThreadPool()
#        self.devices_list= []
#        for device in input_audio_deviceInfos:
#            self.devices_list.append(device.deviceName())
#
#        self.mic_plot_combo_box.addItems(self.devices_list)
#        self.mic_plot_combo_box.currentIndexChanged['QString'].connect(self.update_now)
#        self.mic_plot_combo_box.setCurrentIndex(0)



if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Form = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi()
    Form.show()
    sys.exit(app.exec_())
